# SportsCoder í”„ë¡œì íŠ¸ êµ¬ì¡°

## âœ… **ë¦¬íŒ©í† ë§ ì™„ë£Œ ìƒíƒœ (2025-10-04)**

### **í˜„ì¬ í”„ë¡œì íŠ¸ ìƒíƒœ**
- **ì„œë²„**: `server_refactored_new.js` ì •ìƒ ì‹¤í–‰ ì¤‘
- **ë¼ìš°í„°**: 9ê°œ ë¼ìš°í„° íŒŒì¼ë¡œ API ë¶„ë¦¬ ì™„ë£Œ
- **API**: 122ê°œ ì—”ë“œí¬ì¸íŠ¸ ì •ìƒ ì‘ë™
- **ë°ì´í„°ë² ì´ìŠ¤**: SQLite ì •ìƒ ì—°ê²°
- **WebSocket**: ì •ìƒ ì‘ë™

### **ì£¼ìš” ê°œì„ ì‚¬í•­**
- **ì½”ë“œ ì¤‘ë³µ ì œê±°**: 200+ ì¤„ ì¤‘ë³µ ì½”ë“œ ì œê±°
- **ë¼ìš°í„° êµ¬ì¡° ìµœì í™”**: ê¸°ëŠ¥ë³„ API ë¶„ë¦¬
- **ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ**: ë¼ìš°í„°ë³„ ê´€ë¦¬ë¡œ ê°œë°œ íš¨ìœ¨ì„± ì¦ëŒ€
- **ë¬¸ë²• ì˜¤ë¥˜ í•´ê²°**: ëª¨ë“  ë¼ìš°í„° íŒŒì¼ ì •ìƒ ì‘ë™

## ğŸš¨ **ë¼ìš°í„° í†µí•© ê·œì¹™ (2025-10-06 ì¶”ê°€)**

### **API í˜¸ì¶œ ë°©ì‹ í‘œì¤€í™”**
- **API ì •ì˜ ìœ„ì¹˜**: ëª¨ë“  APIëŠ” í•´ë‹¹ ë¼ìš°í„° íŒŒì¼ì—ë§Œ ì •ì˜
- **server_refactored_new.js ì—­í• **: ë¼ìš°í„° ì—°ê²°ë§Œ ë‹´ë‹¹, ì§ì ‘ API ì •ì˜ ê¸ˆì§€
- **ë¼ìš°í„° ì—°ê²° ìˆœì„œ**: êµ¬ì²´ì ì¸ ê²½ë¡œ ìš°ì„ , ì¼ë°˜ì ì¸ ê²½ë¡œ í›„ìˆœìœ„
- **API í˜¸ì¶œ ë°©ì‹**: ëª¨ë“  APIë¥¼ ë¼ìš°í„°ë¥¼ í†µí•´ í˜¸ì¶œí•˜ë„ë¡ í†µì¼

### **ë¼ìš°í„° ì—°ê²° ìˆœì„œ ê·œì¹™**
```javascript
// 1. êµ¬ì²´ì ì¸ API ë¼ìš°í„°ë“¤ (ìš°ì„ ìˆœìœ„ ë†’ìŒ)
app.use('/api/templates', templatesRouter);
app.use('/api/sport', sportsRouter);
app.use('/api/matches', matchesRouter);
app.use('/api/users', usersRouter);
app.use('/api/backup', backupRouter);
app.use('/api/logs', logsRouter);
app.use('/api/settings', settingsRouter);
app.use('/api/match-lists', matchListsRouter);

// 2. ì˜¤ë²„ë ˆì´ API ë¼ìš°í„° (ìµœí›„ìˆœìœ„ - /api/* íŒ¨í„´)
app.use('/api', overlaysRouter);
```

### **ì ì§„ì  í†µí•© ë‹¨ê³„**
1. **1ë‹¨ê³„**: í•µì‹¬ API ì´ë™ (/api/base-templates, /api/sport-overlay-images-with-active/:sportCode)
2. **2ë‹¨ê³„**: ì˜¤ë²„ë ˆì´ ê´€ë ¨ API ì´ë™
3. **3ë‹¨ê³„**: ê¸°íƒ€ ì§ì ‘ ì •ì˜ëœ API ì´ë™
4. **4ë‹¨ê³„**: ë¼ìš°í„° ì—°ê²° ìˆœì„œ ìµœì í™”
5. **5ë‹¨ê³„**: API í˜¸ì¶œ ë°©ì‹ í‘œì¤€í™”

## ğŸ“ í´ë” êµ¬ì¡°
```
C:\SportsCoder\
â”œâ”€â”€ ğŸ“„ server.js                    # ë©”ì¸ ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜
â”œâ”€â”€ ğŸ“„ backup-restore.js            # ë°±ì—…/ë³µì› ê´€ë¦¬
â”œâ”€â”€ ğŸ“„ database-setup.js            # ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì„¤ì •
â”œâ”€â”€ ğŸ“„ models/                      # ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸
â”‚   â”œâ”€â”€ index.js                   # ëª¨ë¸ í†µí•© ë° ì—°ê²°
â”‚   â”œâ”€â”€ User.js                    # ì‚¬ìš©ì ëª¨ë¸
â”‚   â”œâ”€â”€ Template.js                # í…œí”Œë¦¿ ëª¨ë¸
â”‚   â”œâ”€â”€ Match.js                   # ê²½ê¸° ëª¨ë¸
â”‚   â””â”€â”€ Sport.js                   # ìŠ¤í¬ì¸  ëª¨ë¸
â”œâ”€â”€ ğŸ“„ public/js/                   # í”„ë¡ íŠ¸ì—”ë“œ JavaScript
â”‚   â”œâ”€â”€ animations.js              # ì• ë‹ˆë©”ì´ì…˜ ê´€ë¦¬
â”‚   â”œâ”€â”€ animation-controls.js      # ì• ë‹ˆë©”ì´ì…˜ ì»¨íŠ¸ë¡¤
â”‚   â””â”€â”€ config.js                  # í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
â”œâ”€â”€ ğŸ“„ views/                       # EJS í…œí”Œë¦¿
â”œâ”€â”€ ğŸ“„ routes/                      # Express ë¼ìš°í„°
â”œâ”€â”€ ğŸ“„ middleware/                   # ë¯¸ë“¤ì›¨ì–´
â”œâ”€â”€ ğŸ“„ utils/                       # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”œâ”€â”€ ğŸ“„ config/                      # ì„¤ì • íŒŒì¼
â”œâ”€â”€ ğŸ“„ backups/                     # ë°±ì—… íŒŒì¼ ì €ì¥ì†Œ
â”œâ”€â”€ ğŸ“„ logs/                        # ë¡œê·¸ íŒŒì¼
â”œâ”€â”€ ğŸ“„ temp_unused_files/           # ì„ì‹œ íŒŒì¼ (ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” íŒŒì¼ë“¤)
â””â”€â”€ ğŸ“„ backup/                      # ë¡¤ë°± ì‹œ ìƒì„±ëœ ì„ì‹œ ë°±ì—… í´ë”
```

## ğŸ“‹ í…œí”Œë¦¿ íŒŒì¼ëª… ê·œì¹™

### í…œí”Œë¦¿ íŒŒì¼ êµ¬ì¡°
ê° í…œí”Œë¦¿ì€ 3ê°œì˜ íŒŒì¼ë¡œ êµ¬ì„±ë˜ë©°, ë‹¤ìŒ ëª…ëª… ê·œì¹™ì„ ë”°ë¦…ë‹ˆë‹¤:

```
í…œí”Œë¦¿ì´ë¦„-template.ejs      # ë©”ì¸ í…œí”Œë¦¿ íŒŒì¼
í…œí”Œë¦¿ì´ë¦„-control.ejs       # ë°ìŠ¤í¬í†± ì»¨íŠ¸ë¡¤ íŒŒì¼  
í…œí”Œë¦¿ì´ë¦„-control-mobile.ejs # ëª¨ë°”ì¼ ì»¨íŠ¸ë¡¤ íŒŒì¼
```

### ì˜ˆì‹œ
- **ì¶•êµ¬ í…œí”Œë¦¿**: `soccer-template.ejs`, `soccer-control.ejs`, `soccer-control-mobile.ejs`
- **ì•¼êµ¬ í…œí”Œë¦¿**: `baseball-template.ejs`, `baseball-control.ejs`, `baseball-control-mobile.ejs`
- **ì‚¬ìš©ì í…œí”Œë¦¿**: `asdf-template.ejs`, `asdf-control.ejs`, `asdf-control-mobile.ejs`

### íŒŒì¼ ìœ„ì¹˜
- **ê¸°ë³¸ í…œí”Œë¦¿**: `views/` í´ë”ì— ì €ì¥
- **ì‚¬ìš©ì ìƒì„± í…œí”Œë¦¿**: `views/` í´ë”ì— ì €ì¥
- **í™•ì¥ì**: ëª¨ë“  í…œí”Œë¦¿ íŒŒì¼ì€ `.ejs` í™•ì¥ì ì‚¬ìš©

## ğŸ¯ í•µì‹¬ ê¸°ëŠ¥

### 1. ì„œë²„ (server.js)
- Express.js ì›¹ ì„œë²„
- Socket.IO ì‹¤ì‹œê°„ í†µì‹ 
- API ë¼ìš°íŒ… ë° ë¯¸ë“¤ì›¨ì–´
- ì„¸ì…˜ ê´€ë¦¬ ë° ì¸ì¦

### 2. ë°ì´í„°ë² ì´ìŠ¤ (models/)
- Sequelize ORM ì‚¬ìš©
- SQLite (ê°œë°œ) / PostgreSQL (í”„ë¡œë•ì…˜)
- ì‚¬ìš©ì, ê²½ê¸°, í…œí”Œë¦¿, ìŠ¤í¬ì¸  ëª¨ë¸

### 3. ë°±ì—… ì‹œìŠ¤í…œ (backup-restore.js)
- ë°ì´í„°ë² ì´ìŠ¤ ì „ì²´ ë°±ì—…
- íŒŒì¼ ì‹œìŠ¤í…œ ë°±ì—…
- ZIP ì••ì¶• ë° ë³µì›

### 4. í”„ë¡ íŠ¸ì—”ë“œ (public/js/)
- ì‹¤ì‹œê°„ ì• ë‹ˆë©”ì´ì…˜
- ê²½ê¸° ì˜¤ë²„ë ˆì´ ê´€ë¦¬
- ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤

## ğŸ“‹ JavaScript íŒŒì¼ ë¶„ë¥˜

### ğŸ¯ í•µì‹¬ íŒŒì¼ (Core Files)
- `server.js` - ë©”ì¸ ì„œë²„
- `models/index.js` - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
- `backup-restore.js` - ë°±ì—… ê´€ë¦¬

### ğŸ—ƒï¸ ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ (Database Models)
- `models/User.js` - ì‚¬ìš©ì ê´€ë¦¬
- `models/Template.js` - í…œí”Œë¦¿ ê´€ë¦¬
- `models/Match.js` - ê²½ê¸° ê´€ë¦¬
- `models/Sport.js` - ìŠ¤í¬ì¸  ê´€ë¦¬

### ğŸ› ï¸ ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸ (Management Scripts)
- `setup.js` - ì´ˆê¸° ì„¤ì •
- `seed.js` - ë°ì´í„° ì‹œë“œ
- `migrate-*.js` - ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
- `create-admin*.js` - ê´€ë¦¬ì ìƒì„±

### ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ (Frontend)
- `public/js/animations.js` - ì• ë‹ˆë©”ì´ì…˜
- `public/js/animation-controls.js` - ì• ë‹ˆë©”ì´ì…˜ ì»¨íŠ¸ë¡¤
- `public/js/config.js` - ì„¤ì •

## âš ï¸ ì¤‘ìš” ì‚¬í•­

### ì‚­ì œ ê¸ˆì§€ íŒŒì¼
- `server.js`
- `models/index.js`
- `backup-restore.js`
- `public/js/*.js`

### ì„ì‹œ í´ë”
- `backup/` - ë¡¤ë°± ì‹œ ìƒì„±ëœ ì„ì‹œ í´ë” (ì‚­ì œ ê°€ëŠ¥)
- `temp_unused_files/` - ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” íŒŒì¼ë“¤ (ì •ë¦¬ ê°€ëŠ¥)

### ë°±ì—… í´ë”
- `backups/` - ì‹¤ì œ ë°±ì—… íŒŒì¼ ì €ì¥ì†Œ (ìœ ì§€ í•„ìš”)

## ğŸ”§ ê°œë°œ ê°€ì´ë“œ

### 1. ì„œë²„ ì‹¤í–‰
```bash
node server.js
# ë˜ëŠ”
npm start
```

### 2. ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
```bash
node setup.js
node seed.js
```

### 3. ê´€ë¦¬ì ìƒì„±
```bash
node create-admin.js
```

### 4. ë°±ì—… ìƒì„±
ì›¹ ì¸í„°í˜ì´ìŠ¤ì—ì„œ "ë°±ì—… ìƒì„±" ê¸°ëŠ¥ ì‚¬ìš©

## ğŸ“š ì°¸ê³  ë¬¸ì„œ
- `JAVASCRIPT_FILES_REFERENCE.md` - JavaScript íŒŒì¼ ì—­í•  ìƒì„¸
- `.cursorrules` - Cursor AI ê°œë°œ ê·œì¹™
- `PROJECT_STRUCTURE.md` - í”„ë¡œì íŠ¸ êµ¬ì¡° (ì´ íŒŒì¼)

---
*SportsCoder í”„ë¡œì íŠ¸ êµ¬ì¡° ë¬¸ì„œ*
